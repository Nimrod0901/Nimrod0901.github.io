<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
    <meta charset="utf-8">
    <title></title>
</head>

<body>
    <script src="https://d3js.org/d3.v5.js"></script>
    <!-- <p class="myclass">banana</p> -->
    <!-- <p class="myclass">Hello Data! </p> -->
    <script>
        var width = 300
        var height = 300

        var svg = d3.select('body')
            .append('svg')
            .attr('width', width)
            .attr('height', height)

        var dataset = [1.2, 2.3, 0.9, 1.5, 3.3];

        var min = d3.min(dataset)
        var max = d3.max(dataset)

        // var linear = d3.scale.linear()
        //             .domain([min, max])
        //             .range([0, 300])
        var linear = d3.scaleLinear()
            .domain([min, max])
            .range([0, 300]);
        // console.log(min)
        var rectHeight = 25; //每个矩形所占的像素高度(包括空白)

        svg.selectAll("rect")
            .data(dataset)
            .enter()
            .append("rect")
            .attr("x", 20)
            .attr("y", function(d, i) {
                return i * rectHeight;
            })
            .attr("width", function(d) {
                return linear(d);
            })
            .attr("height", rectHeight - 2)
            .attr("fill", "steelblue");
    </script>
</body>

</html>
